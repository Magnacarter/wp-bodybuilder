{"version":3,"sources":["admin-script.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"admin-app.js","sourcesContent":["jQuery( document ).ready( function($) {\n\n\t// Set all variables to be used in scope\n\tvar frame,\n\t\tmetaBox = $('#exercise-custom-fields.postbox'), // Your meta box id here\n\t\taddImgLink = metaBox.find('.upload-custom-img'),\n\t\tdelImgLink = metaBox.find( '.delete-custom-img'),\n\t\timgContainer = metaBox.find( '.custom-img-container'),\n\t\timgIdInput = metaBox.find( '.custom-img-id' );\n\n\t// ADD IMAGE LINK\n\taddImgLink.on( 'click', function( event ){\n\n\t\tevent.preventDefault();\n\n\t\t// If the media frame already exists, reopen it.\n\t\tif ( frame ) {\n\t\t\tframe.open();\n\t\t\treturn;\n\t\t}\n\n\t\t// Create a new media frame\n\t\tframe = wp.media({\n\t\t\ttitle: 'Select or Upload Media for Exercise',\n\t\t\tbutton: {\n\t\t\t\ttext: 'Use this media'\n\t\t\t},\n\t\t\tmultiple: true  // Set to true to allow multiple files to be selected\n\t\t});\n\n\t\t// When an image is selected in the media frame...\n\t\tframe.on( 'select', function() {\n\n\t\t\t// Get media attachment details from the frame state\n\t\t\tvar attachment = frame.state().get('selection').first().toJSON();\n\n\t\t\t// Send the attachment URL to our custom image input field.\n\t\t\timgContainer.append( '<img src=\"'+attachment.url+'\" alt=\"\" style=\"max-width:150px;\"/>' );\n\n\t\t\t// Send the attachment id to our hidden input\n\t\t\timgIdInput.val( attachment.id );\n\n\t\t\t// Hide the add image link\n\t\t\taddImgLink.addClass( 'hidden' );\n\n\t\t\t// Unhide the remove image link\n\t\t\tdelImgLink.removeClass( 'hidden' );\n\t\t});\n\n\t\t// Finally, open the modal on click\n\t\tframe.open();\n\t});\n\n\n\t// DELETE IMAGE LINK\n\tdelImgLink.on( 'click', function( event ){\n\n\t\tevent.preventDefault();\n\n\t\t// Clear out the preview image\n\t\timgContainer.html( '' );\n\n\t\t// Un-hide the add image link\n\t\taddImgLink.removeClass( 'hidden' );\n\n\t\t// Hide the delete image link\n\t\tdelImgLink.addClass( 'hidden' );\n\n\t\t// Delete the image id from the hidden input\n\t\timgIdInput.val( '' );\n\n\t});\n\n});"]}